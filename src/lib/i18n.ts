export type Locale = 'de' | 'en'

type Dictionary = Record<string, string>

const de: Dictionary = {
  'app.title': 'Einkaufszettel',
  'app.subtitle': 'Familienorganisation',
  'nav.list': 'Zettel',
  'nav.admin': 'Admin',
  'sync.online': 'Online',
  'sync.offline': 'Offline',
  'sync.queue': 'Queue {count}',
  'sync.now': 'Sync jetzt',
  'sync.syncing': 'Sync...',
  'theme.system': 'System',
  'theme.light': 'Hell',
  'theme.dark': 'Dunkel',
  'home.overview': 'Uebersicht',
  'home.allLists': 'Alle Einkaufszettel',
  'home.newList': 'Neuen Zettel anlegen',
  'home.listLabel': 'Zettel',
  'home.items': '{count} Artikel',
  'home.note': 'Hinweis',
  'home.shareTitle': 'Teilen',
  'home.shareText': 'Jeder Zettel hat einen eigenen Link. Oeffne einen Zettel und teile die URL mit der Familie.',
  'home.shareExample': 'Beispiel: /list/ABC123',
  'home.deleteList': 'Zettel loeschen',
  'list.sheet': 'Zettel',
  'list.notFound': 'Zettel nicht gefunden',
  'list.mode.plan': 'Anlegen',
  'list.mode.shop': 'Einkaufen',
  'list.backOverview': 'Zur Uebersicht',
  'list.current': 'Aktueller Zettel',
  'list.modeHint': 'Wechsel zwischen Anlegen und Einkaufen.',
  'list.store': 'Supermarkt',
  'list.storeNone': 'Kein Markt',
  'list.food': 'Lebensmittel',
  'list.foodPlaceholder': 'z.B. kleine Tomaten',
  'list.suggestions': 'Vorschlaege',
  'list.noHits': 'Keine Treffer - neuer Eintrag wird angelegt.',
  'list.amount': 'Menge',
  'list.amountPlaceholder': 'z.B. 500',
  'list.unit': 'Einheit',
  'list.unitNone': 'Ohne',
  'list.category': 'Kategorie',
  'list.categoryNone': 'Ohne Kategorie',
  'list.add': 'Hinzufuegen',
  'list.categoryLabel': 'Kategorie',
  'list.uncategorized': 'Unkategorisiert',
  'list.unknown': 'Unbekannt',
  'list.remove': 'Entfernen',
  'list.empty': 'Lege zuerst einen Einkaufszettel an, um Artikel hinzuzufuegen.',
  'list.shopTitle': 'Abhakliste',
  'list.shopHint': 'Nur Abhaken',
  'list.reduceQty': 'Menge reduzieren',
  'list.increaseQty': 'Menge erhoehen',
  'admin.title': 'Daten & Struktur',
  'admin.subtitle': 'Admin',
  'admin.nav.stores': 'Supermaerkte',
  'admin.nav.units': 'Einheiten',
  'admin.nav.products': 'Lebensmittelbestand',
  'admin.navHint': 'Wechsle zwischen den Bereichen fuer Supermaerkte inkl. Kategorien, Einheiten und dem Lebensmittelbestand.',
  'admin.language': 'Sprache',
  'admin.stores.section': 'Supermaerkte',
  'admin.categories.title': 'Kategorien',
  'admin.categories.empty': 'Lege zuerst Kategorien an, damit Produkte einsortiert werden koennen.',
  'admin.categories.add': 'Neue Kategorie',
  'admin.stores.title': 'Maerkte & Reihenfolge',
  'admin.stores.add': 'Neuer Supermarkt',
  'admin.stores.order': 'Reihenfolge',
  'admin.stores.drag': 'Ziehen',
  'admin.stores.empty': 'Lege einen Supermarkt an, um die Reihenfolge der Kategorien zu definieren.',
  'admin.stores.noCategories': 'Noch keine Kategorien vorhanden.',
  'admin.units.title': 'Pflegen',
  'admin.units.add': 'Neue Einheit (z.B. g, kg, l)',
  'admin.units.empty': 'Lege Einheiten an, um Mengen schneller einzugeben.',
  'admin.units.examples': 'Beispiele',
  'admin.units.examplesText': 'Kurze Einheiten fuer schnelle Eingabe: g, kg, l, ml, Stk.',
  'admin.units.examplesText2': 'Diese Einheiten werden beim Anlegen automatisch zu Name + Menge kombiniert.',
  'admin.products.title': 'Gesamtliste',
  'admin.products.search': 'Schnellsuche',
  'admin.products.empty': 'Keine Lebensmittel vorhanden.',
  'admin.save': 'Speichern',
  'admin.create': 'Anlegen',
  'admin.deleteUnit': 'Einheit loeschen',
  'admin.deleteProduct': 'Lebensmittel loeschen',
  'admin.productsCount': '{count} Produkte'
}

const en: Dictionary = {
  'app.title': 'Shopping List',
  'app.subtitle': 'Family organization',
  'nav.list': 'Lists',
  'nav.admin': 'Admin',
  'sync.online': 'Online',
  'sync.offline': 'Offline',
  'sync.queue': 'Queue {count}',
  'sync.now': 'Sync now',
  'sync.syncing': 'Syncing...',
  'theme.system': 'System',
  'theme.light': 'Light',
  'theme.dark': 'Dark',
  'home.overview': 'Overview',
  'home.allLists': 'All shopping lists',
  'home.newList': 'Create new list',
  'home.listLabel': 'List',
  'home.items': '{count} items',
  'home.note': 'Note',
  'home.shareTitle': 'Share',
  'home.shareText': 'Each list has its own link. Open a list and share the URL with your family.',
  'home.shareExample': 'Example: /list/ABC123',
  'home.deleteList': 'Delete list',
  'list.sheet': 'List',
  'list.notFound': 'List not found',
  'list.mode.plan': 'Create',
  'list.mode.shop': 'Shop',
  'list.backOverview': 'Back to overview',
  'list.current': 'Current list',
  'list.modeHint': 'Switch between create and shop.',
  'list.store': 'Store',
  'list.storeNone': 'No store',
  'list.food': 'Item',
  'list.foodPlaceholder': 'e.g. cherry tomatoes',
  'list.suggestions': 'Suggestions',
  'list.noHits': 'No results - a new item will be created.',
  'list.amount': 'Amount',
  'list.amountPlaceholder': 'e.g. 500',
  'list.unit': 'Unit',
  'list.unitNone': 'None',
  'list.category': 'Category',
  'list.categoryNone': 'No category',
  'list.add': 'Add',
  'list.categoryLabel': 'Category',
  'list.uncategorized': 'Uncategorized',
  'list.unknown': 'Unknown',
  'list.remove': 'Remove',
  'list.empty': 'Create a shopping list first to add items.',
  'list.shopTitle': 'Checklist',
  'list.shopHint': 'Check off only',
  'list.reduceQty': 'Decrease quantity',
  'list.increaseQty': 'Increase quantity',
  'admin.title': 'Data & Structure',
  'admin.subtitle': 'Admin',
  'admin.nav.stores': 'Stores',
  'admin.nav.units': 'Units',
  'admin.nav.products': 'Inventory',
  'admin.navHint': 'Switch between stores with categories, units, and the product inventory.',
  'admin.language': 'Language',
  'admin.stores.section': 'Stores',
  'admin.categories.title': 'Categories',
  'admin.categories.empty': 'Create categories first to group products.',
  'admin.categories.add': 'New category',
  'admin.stores.title': 'Markets & order',
  'admin.stores.add': 'New store',
  'admin.stores.order': 'Order',
  'admin.stores.drag': 'Drag',
  'admin.stores.empty': 'Create a store to define the category order.',
  'admin.stores.noCategories': 'No categories yet.',
  'admin.units.title': 'Manage',
  'admin.units.add': 'New unit (e.g. g, kg, l)',
  'admin.units.empty': 'Create units to speed up entry.',
  'admin.units.examples': 'Examples',
  'admin.units.examplesText': 'Short units for quick entry: g, kg, l, ml, pcs.',
  'admin.units.examplesText2': 'Units are combined with name + amount when creating items.',
  'admin.products.title': 'Full list',
  'admin.products.search': 'Quick search',
  'admin.products.empty': 'No items available.',
  'admin.save': 'Save',
  'admin.create': 'Create',
  'admin.deleteUnit': 'Delete unit',
  'admin.deleteProduct': 'Delete item',
  'admin.productsCount': '{count} products'
}

export const dictionaries: Record<Locale, Dictionary> = { de, en }

export const translate = (locale: Locale, key: string, params?: Record<string, string | number>) => {
  const dictionary = dictionaries[locale] || dictionaries.de
  let value = dictionary[key] || dictionaries.de[key] || key
  if (params) {
    Object.entries(params).forEach(([param, paramValue]) => {
      value = value.replace(new RegExp(`\\{${param}\\}`, 'g'), String(paramValue))
    })
  }
  return value
}
