export type Locale = 'de' | 'en' | 'fr' | 'es'

type Dictionary = Record<string, string>

const de: Dictionary = {
  'app.title': 'Einkaufszettel',
  'app.subtitle': 'Familienorganisation',
  'nav.list': 'Zettel',
  'nav.admin': 'Admin',
  'sync.online': 'Online',
  'sync.offline': 'Offline',
  'sync.queue': 'Queue {count}',
  'sync.now': 'Sync jetzt',
  'sync.syncing': 'Sync...',
  'sync.apiKeySet': 'API-Key ok',
  'sync.apiKeyMissing': 'API-Key fehlt',
  'theme.system': 'System',
  'theme.light': 'Hell',
  'theme.dark': 'Dunkel',
  'home.overview': 'Uebersicht',
  'home.allLists': 'Alle Einkaufszettel',
  'home.newList': 'Neuen Zettel anlegen',
  'home.listLabel': 'Zettel',
  'home.items': '{count} Artikel',
  'home.note': 'Hinweis',
  'home.shareTitle': 'Teilen',
  'home.shareText': 'Jeder Zettel hat einen eigenen Link. Oeffne einen Zettel und teile die URL mit der Familie.',
  'home.shareExample': 'Beispiel: /list/ABC123',
  'home.deleteList': 'Zettel loeschen',
  'list.sheet': 'Zettel',
  'list.notFound': 'Zettel nicht gefunden',
  'list.mode.plan': 'Anlegen',
  'list.mode.shop': 'Einkaufen',
  'list.backOverview': 'Zur Uebersicht',
  'list.current': 'Aktueller Zettel',
  'list.modeHint': 'Wechsel zwischen Anlegen und Einkaufen.',
  'list.store': 'Supermarkt',
  'list.storeNone': 'Kein Markt',
  'list.food': 'Lebensmittel',
  'list.foodPlaceholder': 'z.B. kleine Tomaten',
  'list.suggestions': 'Vorschlaege',
  'list.noHits': 'Keine Treffer - neuer Eintrag wird angelegt.',
  'list.amount': 'Menge',
  'list.amountPlaceholder': 'z.B. 500',
  'list.unit': 'Einheit',
  'list.unitNone': 'Ohne',
  'list.category': 'Kategorie',
  'list.categoryNone': 'Ohne Kategorie',
  'list.add': 'Hinzufuegen',
  'list.categoryLabel': 'Kategorie',
  'list.uncategorized': 'Unkategorisiert',
  'list.unknown': 'Unbekannt',
  'list.remove': 'Entfernen',
  'list.empty': 'Lege zuerst einen Einkaufszettel an, um Artikel hinzuzufuegen.',
  'list.shopTitle': 'Abhakliste',
  'list.shopHint': 'Nur Abhaken',
  'list.reduceQty': 'Menge reduzieren',
  'list.increaseQty': 'Menge erhoehen',
  'admin.title': 'Daten & Struktur',
  'admin.subtitle': 'Admin',
  'admin.nav.stores': 'Supermärkte',
  'admin.nav.units': 'Einheiten',
  'admin.nav.products': 'Lebensmitteldaten',
  'admin.nav.system': 'System',
  'admin.theme': 'Theme',
  'admin.navHint': 'Wechsle zwischen den Bereichen fuer Supermärkte inkl. Kategorien, Einheiten und dem Lebensmitteldaten.',
  'admin.language': 'Sprache',
  'admin.stores.section': 'Supermärkte',
  'admin.categories.title': 'Kategorien',
  'admin.categories.empty': 'Lege zuerst Kategorien an, damit Produkte einsortiert werden koennen.',
  'admin.categories.add': 'Neue Kategorie',
  'admin.stores.title': 'Maerkte & Reihenfolge',
  'admin.stores.add': 'Neuer Supermarkt',
  'admin.stores.order': 'Reihenfolge',
  'admin.stores.drag': 'Ziehen',
  'admin.stores.empty': 'Lege einen Supermarkt an, um die Reihenfolge der Kategorien zu definieren.',
  'admin.stores.noCategories': 'Noch keine Kategorien vorhanden.',
  'admin.units.title': 'Pflegen',
  'admin.units.add': 'Neue Einheit (z.B. g, kg, l)',
  'admin.units.empty': 'Lege Einheiten an, um Mengen schneller einzugeben.',
  'admin.units.examples': 'Beispiele',
  'admin.units.examplesText': 'Kurze Einheiten fuer schnelle Eingabe: g, kg, l, ml, Stk.',
  'admin.units.examplesText2': 'Diese Einheiten werden beim Anlegen automatisch zu Name + Menge kombiniert.',
  'admin.products.title': 'Gesamtliste',
  'admin.products.search': 'Schnellsuche',
  'admin.products.empty': 'Keine Lebensmittel vorhanden.',
  'admin.save': 'Speichern',
  'admin.create': 'Anlegen',
  'admin.deleteUnit': 'Einheit loeschen',
  'admin.deleteProduct': 'Lebensmittel loeschen',
  'admin.productsCount': '{count} Produkte'
}

const en: Dictionary = {
  'app.title': 'Shopping List',
  'app.subtitle': 'Family organization',
  'nav.list': 'Lists',
  'nav.admin': 'Admin',
  'sync.online': 'Online',
  'sync.offline': 'Offline',
  'sync.queue': 'Queue {count}',
  'sync.now': 'Sync now',
  'sync.syncing': 'Syncing...',
  'sync.apiKeySet': 'API key ok',
  'sync.apiKeyMissing': 'API key missing',
  'theme.system': 'System',
  'theme.light': 'Light',
  'theme.dark': 'Dark',
  'home.overview': 'Overview',
  'home.allLists': 'All shopping lists',
  'home.newList': 'Create new list',
  'home.listLabel': 'List',
  'home.items': '{count} items',
  'home.note': 'Note',
  'home.shareTitle': 'Share',
  'home.shareText': 'Each list has its own link. Open a list and share the URL with your family.',
  'home.shareExample': 'Example: /list/ABC123',
  'home.deleteList': 'Delete list',
  'list.sheet': 'List',
  'list.notFound': 'List not found',
  'list.mode.plan': 'Create',
  'list.mode.shop': 'Shop',
  'list.backOverview': 'Back to overview',
  'list.current': 'Current list',
  'list.modeHint': 'Switch between create and shop.',
  'list.store': 'Store',
  'list.storeNone': 'No store',
  'list.food': 'Item',
  'list.foodPlaceholder': 'e.g. cherry tomatoes',
  'list.suggestions': 'Suggestions',
  'list.noHits': 'No results - a new item will be created.',
  'list.amount': 'Amount',
  'list.amountPlaceholder': 'e.g. 500',
  'list.unit': 'Unit',
  'list.unitNone': 'None',
  'list.category': 'Category',
  'list.categoryNone': 'No category',
  'list.add': 'Add',
  'list.categoryLabel': 'Category',
  'list.uncategorized': 'Uncategorized',
  'list.unknown': 'Unknown',
  'list.remove': 'Remove',
  'list.empty': 'Create a shopping list first to add items.',
  'list.shopTitle': 'Checklist',
  'list.shopHint': 'Check off only',
  'list.reduceQty': 'Decrease quantity',
  'list.increaseQty': 'Increase quantity',
  'admin.title': 'Data & Structure',
  'admin.subtitle': 'Admin',
  'admin.nav.stores': 'Stores',
  'admin.nav.units': 'Units',
  'admin.nav.products': 'Productdata',
  'admin.nav.system': 'System',
  'admin.theme': 'Theme',
  'admin.navHint': 'Switch between stores with categories, units, and the product data.',
  'admin.language': 'Language',
  'admin.stores.section': 'Stores',
  'admin.categories.title': 'Categories',
  'admin.categories.empty': 'Create categories first to group products.',
  'admin.categories.add': 'New category',
  'admin.stores.title': 'Markets & order',
  'admin.stores.add': 'New store',
  'admin.stores.order': 'Order',
  'admin.stores.drag': 'Drag',
  'admin.stores.empty': 'Create a store to define the category order.',
  'admin.stores.noCategories': 'No categories yet.',
  'admin.units.title': 'Manage',
  'admin.units.add': 'New unit (e.g. g, kg, l)',
  'admin.units.empty': 'Create units to speed up entry.',
  'admin.units.examples': 'Examples',
  'admin.units.examplesText': 'Short units for quick entry: g, kg, l, ml, pcs.',
  'admin.units.examplesText2': 'Units are combined with name + amount when creating items.',
  'admin.products.title': 'Full list',
  'admin.products.search': 'Quick search',
  'admin.products.empty': 'No items available.',
  'admin.save': 'Save',
  'admin.create': 'Create',
  'admin.deleteUnit': 'Delete unit',
  'admin.deleteProduct': 'Delete item',
  'admin.productsCount': '{count} products'
}

const fr: Dictionary = {
  'app.title': 'Liste de courses',
  'app.subtitle': 'Organisation familiale',
  'nav.list': 'Listes',
  'nav.admin': 'Admin',
  'sync.online': 'En ligne',
  'sync.offline': 'Hors ligne',
  'sync.queue': 'File {count}',
  'sync.now': 'Synchroniser',
  'sync.syncing': 'Synchronisation...',
  'sync.apiKeySet': 'Cle API ok',
  'sync.apiKeyMissing': 'Cle API manquante',
  'theme.system': 'Systeme',
  'theme.light': 'Clair',
  'theme.dark': 'Sombre',
  'home.overview': 'Apercu',
  'home.allLists': 'Toutes les listes',
  'home.newList': 'Creer une liste',
  'home.listLabel': 'Liste',
  'home.items': '{count} articles',
  'home.note': 'Note',
  'home.shareTitle': 'Partager',
  'home.shareText': 'Chaque liste a son propre lien. Ouvrez une liste et partagez l URL avec la famille.',
  'home.shareExample': 'Exemple : /list/ABC123',
  'home.deleteList': 'Supprimer la liste',
  'list.sheet': 'Liste',
  'list.notFound': 'Liste introuvable',
  'list.mode.plan': 'Creer',
  'list.mode.shop': 'Acheter',
  'list.backOverview': 'Retour a l apercu',
  'list.current': 'Liste actuelle',
  'list.modeHint': 'Passez entre creer et acheter.',
  'list.store': 'Magasin',
  'list.storeNone': 'Aucun magasin',
  'list.food': 'Produit',
  'list.foodPlaceholder': 'ex. tomates cerises',
  'list.suggestions': 'Suggestions',
  'list.noHits': 'Aucun resultat - un nouvel element sera cree.',
  'list.amount': 'Quantite',
  'list.amountPlaceholder': 'ex. 500',
  'list.unit': 'Unite',
  'list.unitNone': 'Aucune',
  'list.category': 'Categorie',
  'list.categoryNone': 'Sans categorie',
  'list.add': 'Ajouter',
  'list.categoryLabel': 'Categorie',
  'list.uncategorized': 'Non classe',
  'list.unknown': 'Inconnu',
  'list.remove': 'Supprimer',
  'list.empty': 'Creez d abord une liste pour ajouter des articles.',
  'list.shopTitle': 'Liste a cocher',
  'list.shopHint': 'Cochez uniquement',
  'list.reduceQty': 'Diminuer la quantite',
  'list.increaseQty': 'Augmenter la quantite',
  'admin.title': 'Donnees et structure',
  'admin.subtitle': 'Admin',
  'admin.nav.stores': 'Magasins',
  'admin.nav.units': 'Unites',
  'admin.nav.products': 'Inventaire',
  'admin.nav.system': 'Systeme',
  'admin.navHint': 'Passez entre magasins et categories, unites et inventaire.',
  'admin.language': 'Langue',
  'admin.stores.section': 'Magasins',
  'admin.categories.title': 'Categories',
  'admin.categories.empty': 'Creez des categories pour regrouper les produits.',
  'admin.categories.add': 'Nouvelle categorie',
  'admin.stores.title': 'Magasins et ordre',
  'admin.stores.add': 'Nouveau magasin',
  'admin.stores.order': 'Ordre',
  'admin.stores.drag': 'Glisser',
  'admin.stores.empty': 'Creez un magasin pour definir l ordre des categories.',
  'admin.stores.noCategories': 'Aucune categorie pour l instant.',
  'admin.units.title': 'Gerer',
  'admin.units.add': 'Nouvelle unite (ex. g, kg, l)',
  'admin.units.empty': 'Creez des unites pour accelerer la saisie.',
  'admin.units.examples': 'Exemples',
  'admin.units.examplesText': 'Unites courtes : g, kg, l, ml, pcs.',
  'admin.units.examplesText2': 'Les unites sont combinees avec le nom et la quantite.',
  'admin.products.title': 'Liste complete',
  'admin.products.search': 'Recherche rapide',
  'admin.products.empty': 'Aucun article disponible.',
  'admin.save': 'Enregistrer',
  'admin.create': 'Creer',
  'admin.deleteUnit': 'Supprimer l unite',
  'admin.deleteProduct': 'Supprimer l article',
  'admin.productsCount': '{count} produits',
  'admin.theme': 'Theme'
}

const es: Dictionary = {
  'app.title': 'Lista de compras',
  'app.subtitle': 'Organizacion familiar',
  'nav.list': 'Listas',
  'nav.admin': 'Admin',
  'sync.online': 'En linea',
  'sync.offline': 'Sin conexion',
  'sync.queue': 'Cola {count}',
  'sync.now': 'Sincronizar',
  'sync.syncing': 'Sincronizando...',
  'sync.apiKeySet': 'Clave API ok',
  'sync.apiKeyMissing': 'Falta clave API',
  'theme.system': 'Sistema',
  'theme.light': 'Claro',
  'theme.dark': 'Oscuro',
  'home.overview': 'Resumen',
  'home.allLists': 'Todas las listas',
  'home.newList': 'Crear lista',
  'home.listLabel': 'Lista',
  'home.items': '{count} articulos',
  'home.note': 'Nota',
  'home.shareTitle': 'Compartir',
  'home.shareText': 'Cada lista tiene su propio enlace. Abre una lista y comparte la URL con la familia.',
  'home.shareExample': 'Ejemplo: /list/ABC123',
  'home.deleteList': 'Eliminar lista',
  'list.sheet': 'Lista',
  'list.notFound': 'Lista no encontrada',
  'list.mode.plan': 'Crear',
  'list.mode.shop': 'Comprar',
  'list.backOverview': 'Volver al resumen',
  'list.current': 'Lista actual',
  'list.modeHint': 'Cambia entre crear y comprar.',
  'list.store': 'Tienda',
  'list.storeNone': 'Sin tienda',
  'list.food': 'Producto',
  'list.foodPlaceholder': 'p. ej. tomates cherry',
  'list.suggestions': 'Sugerencias',
  'list.noHits': 'Sin resultados: se creara un nuevo elemento.',
  'list.amount': 'Cantidad',
  'list.amountPlaceholder': 'p. ej. 500',
  'list.unit': 'Unidad',
  'list.unitNone': 'Ninguna',
  'list.category': 'Categoria',
  'list.categoryNone': 'Sin categoria',
  'list.add': 'Agregar',
  'list.categoryLabel': 'Categoria',
  'list.uncategorized': 'Sin clasificar',
  'list.unknown': 'Desconocido',
  'list.remove': 'Eliminar',
  'list.empty': 'Crea primero una lista para agregar articulos.',
  'list.shopTitle': 'Lista de verificacion',
  'list.shopHint': 'Solo marcar',
  'list.reduceQty': 'Disminuir cantidad',
  'list.increaseQty': 'Aumentar cantidad',
  'admin.title': 'Datos y estructura',
  'admin.subtitle': 'Admin',
  'admin.nav.stores': 'Tiendas',
  'admin.nav.units': 'Unidades',
  'admin.nav.products': 'Inventario',
  'admin.nav.system': 'Sistema',
  'admin.navHint': 'Cambia entre tiendas con categorias, unidades e inventario.',
  'admin.language': 'Idioma',
  'admin.stores.section': 'Tiendas',
  'admin.categories.title': 'Categorias',
  'admin.categories.empty': 'Crea categorias para agrupar productos.',
  'admin.categories.add': 'Nueva categoria',
  'admin.stores.title': 'Tiendas y orden',
  'admin.stores.add': 'Nueva tienda',
  'admin.stores.order': 'Orden',
  'admin.stores.drag': 'Arrastrar',
  'admin.stores.empty': 'Crea una tienda para definir el orden de categorias.',
  'admin.stores.noCategories': 'No hay categorias todavia.',
  'admin.units.title': 'Gestionar',
  'admin.units.add': 'Nueva unidad (p. ej. g, kg, l)',
  'admin.units.empty': 'Crea unidades para acelerar la entrada.',
  'admin.units.examples': 'Ejemplos',
  'admin.units.examplesText': 'Unidades cortas: g, kg, l, ml, pcs.',
  'admin.units.examplesText2': 'Las unidades se combinan con nombre y cantidad.',
  'admin.products.title': 'Lista completa',
  'admin.products.search': 'Busqueda rapida',
  'admin.products.empty': 'No hay articulos.',
  'admin.save': 'Guardar',
  'admin.create': 'Crear',
  'admin.deleteUnit': 'Eliminar unidad',
  'admin.deleteProduct': 'Eliminar producto',
  'admin.productsCount': '{count} productos',
  'admin.theme': 'Tema'
}

export const dictionaries: Record<Locale, Dictionary> = { de, en, fr, es }

export const translate = (locale: Locale, key: string, params?: Record<string, string | number>) => {
  const dictionary = dictionaries[locale] || dictionaries.de
  let value = dictionary[key] || dictionaries.de[key] || key
  if (params) {
    Object.entries(params).forEach(([param, paramValue]) => {
      value = value.replace(new RegExp(`\\{${param}\\}`, 'g'), String(paramValue))
    })
  }
  return value
}
